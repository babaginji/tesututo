from flask import Flask, render_template, request, session, redirect, url_for

app = Flask(__name__)
app.secret_key = "replace-with-a-secure-random-string"


@app.route("/", methods=["GET", "POST"])
def index():
    if request.method == "POST":
        answers = {f"Q{i}": request.form.get(f"Q{i}") for i in range(1, 10)}
        q1, q2, q3 = answers["Q1"], answers["Q2"], answers["Q3"]
        q4, q5, q6 = answers["Q4"], answers["Q5"], answers["Q6"]
        q7, q8, q9 = answers["Q7"], answers["Q8"], answers["Q9"]

        # --- メイン判定 ---
        main_result = "積立安定型（インデックスメイン）"

        if q6 == "1倍以下" and q5 == "10%以下":
            main_result = "貯蓄優先型"
        elif q4 == "損をする覚悟もある" and q2 == "1年以内" and q3 == "1日1時間以上":
            main_result = "アクティブチャレンジ型（短期トレード型）"
        elif (q7 == "ある" or q8 == "ある") and q3 == "できるだけ手間かけたくない":
            main_result = "ステーキング運用型（仮想通貨積立・ステーキング）"
        elif (
            q2 in ["3〜9年", "10年以上"]
            and q3 in ["1日1時間以上", "週に数時間"]
            and q4 in ["一時的に下がるのは我慢できる", "損をする覚悟もある"]
        ):
            main_result = "株式アクティブ型（中期〜長期の個別株投資）"
        elif q4 == "損をする覚悟もある" and q7 == "ある" and q3 in ["1日1時間以上", "週に数時間"]:
            main_result = "ハイリスクハイリターン型（仮想通貨トレード型）"
        elif (
            q8 == "ある"
            and q3 in ["1日1時間以上", "週に数時間"]
            and q4 in ["一時的に下がるのは我慢できる", "損をする覚悟もある"]
        ):
            main_result = "テクノロジー志向型（仮想通貨プロジェクト投資・新興市場）"
        elif q9 == "50代以上" and not (
            q1 == "一攫千金" or q4 == "損をする覚悟もある" or q3 == "1日1時間以上"
        ):
            main_result = "積立型（50代以上特別判定）"
        elif main_result == "積立安定型（インデックスメイン）" and q3 in ["1日1時間以上", "週に数時間"]:
            main_result = "積立応用型（高配当株など）"

        # --- サブ判定 ---
        if main_result == "貯蓄優先型":
            sub_result = "積立安定型（インデックスメイン）"
        elif main_result == "アクティブチャレンジ型（短期トレード型）":
            sub_result = "ハイリスクハイリターン型（仮想通貨トレード型）"
        elif main_result == "ステーキング運用型（仮想通貨積立・ステーキング）":
            sub_result = "積立安定型（インデックスメイン）"
        elif main_result == "株式アクティブ型（中期〜長期の個別株投資）":
            sub_result = "積立応用型（高配当株など）"
        elif main_result == "ハイリスクハイリターン型（仮想通貨トレード型）":
            sub_result = "アクティブチャレンジ型（短期トレード型）"
        elif main_result == "テクノロジー志向型（仮想通貨プロジェクト投資・新興市場）":
            sub_result = (
                "ステーキング運用型（仮想通貨積立・ステーキング）"
                if q3 == "できるだけ手間かけたくない"
                else "ハイリスクハイリターン型（仮想通貨トレード型）"
            )
        elif main_result == "積立型（50代以上特別判定）":
            sub_result = (
                "積立安定型（インデックスメイン）" if q3 == "できるだけ手間かけたくない" else "積立応用型（高配当株など）"
            )
        elif main_result == "積立応用型（高配当株など）":
            sub_result = "積立安定型（インデックスメイン）"
        else:
            sub_result = "積立安定型（インデックスメイン）"

        session["main_result"] = main_result
        session["sub_result"] = sub_result

        return redirect(url_for("result_main"))

    return render_template("index.html")


@app.route("/result")
def result_main():
    main_result = session.get("main_result")
    sub_result = session.get("sub_result")
    if not main_result:
        return redirect(url_for("index"))

    descriptions = {
        "貯蓄優先型": "「あなたの投資適性について」あなたはまず、投資を始める前に「お金をためる力」を育てることが大切です。毎月の収支を見直し、不要なサブスクや衝動買いを控えることで、手元に自由に使える資金を確保できます。この段階ではまだ市場にお金を投入する必要はなく、生活費を安定させながら貯蓄を積み上げること自体が投資の土台になります。例えば、毎月の給料から一定額を自動的に貯金口座に移す「先取り貯金」を取り入れるだけで、無理なく資金を作ることができます。貯蓄の習慣を身につけることで、後に投資を始めた際、焦ることなく長期的に資産を育てる準備が整います。この時期にしっかり土台を作る人ほど、将来的に安定した運用を行いやすく、心の余裕も持てるでしょう。必要資金の目安としては、生活費の3〜6か月分を目標にするのがおすすめです。無理のない範囲で少しずつ積み上げていくことが、将来の大きな安心につながります。",
        "積立安定型（インデックスメイン）": "「あなたの投資適性について」あなたはS&P500や全世界株式などのインデックスファンドへの積立投資が合っている可能性が高いです。この方法は、株式市場全体に分散して投資するため、個別企業の影響を受けにくく、長期的な資産形成に向いています。積立投資は「毎月一定額を購入し続ける」ことが基本で、相場が下がったときも安く買えるメリットがあります。必要資金は月数百円〜数千円程度から始められ、少額からでも長期で続けることで複利効果を得られます。時間を味方につけることで、数年後には小さな積み重ねが大きな資産へと育っていきます。リスクは比較的低く、株式市場の値動きに一喜一憂せずに済むため、心理的にも安定した運用が可能です。初心者でも無理なく実行でき、投資を習慣化するには最適な方法です。積立安定型は、未来の安心を着実に手に入れるための賢い選択です。",
        "アクティブチャレンジ型（短期トレード型）": "「あなたの投資適性について」あなたは個別株を中長期で保有して利益を狙うスタイルに適性があります。企業の成長や業績、事業モデルに注目し、自分で選んだ株を持つ楽しみを味わえる投資方法です。必要資金は数千〜数万円から始められ、投資先をしっかり分析することでリスクをコントロールできます。中長期保有によって、企業の成長に応じた株価上昇や配当収入を享受できるのが特徴です。また、株主優待を通じて投資の楽しさを実感できる点も魅力です。株式アクティブ型は、主体的に情報収集や分析を行うことが求められますが、その学びや経験はあなたの投資スキルを高め、資産形成の力になります。選んだ銘柄が成長していく過程を楽しみながら運用できるのが、この型の大きな魅力です。",
        "ステーキング運用型（仮想通貨積立・ステーキング）": "「あなたの投資適性について」あなたは仮想通貨のステーキングやレンディングを通じて、保有資産から利息のような収益を得るスタイルに適性があります。ステーキングは、特定の暗号資産をブロックチェーンネットワークに預けることで報酬を得る方法で、長期的に資産を増やせる特徴があります。必要資金は数百円〜数千円から始められるものもあり、仮想通貨の価格変動リスクはあるものの（ステーブルコインと呼ばれる価格変動のないコインも存在する）、保有するだけで収益が得られる点が魅力です。レンディングも同様に、資産を貸し出すことで利息を受け取り、安定した収益の積み重ねが可能です。この投資型では、テクノロジーや暗号資産に興味があり、長期的な成長を見据える姿勢が強みになります。価格の変動に一喜一憂せず、じっくり運用することで雪だるま式に資産を増やすことができ、未来の資産形成に大きな力をもたらします。",
        "株式アクティブ型（中期〜長期の個別株投資）": "「あなたの投資適性について」あなたは個別株を中長期で保有して利益を狙うスタイルに適性があります。企業の成長や業績、事業モデルに注目し、自分で選んだ株を持つ楽しみを味わえる投資方法です。必要資金は数千〜数万円から始められ、投資先をしっかり分析することでリスクをコントロールできます。中長期保有によって、企業の成長に応じた株価上昇や配当収入を享受できるのが特徴です。また、株主優待を通じて投資の楽しさを実感できる点も魅力です。株式アクティブ型は、主体的に情報収集や分析を行うことが求められますが、その学びや経験はあなたの投資スキルを高め、資産形成の力になります。選んだ銘柄が成長していく過程を楽しみながら運用できるのが、この型の大きな魅力です。",
        "ハイリスクハイリターン型（仮想通貨トレード型）": "「あなたの投資適性について」あなたは仮想通貨の売買などで、大きな利益を狙うスタイルに適性があります。市場の値動きが激しいためリスクは高いですが、成功したときのリターンも大きいのが特徴です。必要資金は数千円からでも始められますが、十分な余剰資金を用意して挑戦することが重要です。価格変動の激しさを楽しみながら、短期間で利益を積み上げる経験ができるのが魅力です。失敗も学びの一部となり、次の投資判断に活かせます。ハイリスクハイリターン型は、挑戦心や直感を活かして、未来の大きな成果をつかむ力を養うスタイルです。大胆に動くことで、投資の面白さや成長の実感を得やすくなります。",
        "テクノロジー志向型（仮想通貨プロジェクト投資・新興市場）": "「あなたの投資適性について」あなたはベンチャー企業や新興国への投資を通じて、未来の成長市場に参加するスタイルに適性があります。新しい技術や社会を変える可能性のある企業に投資することで、経済的なリターンと同時に、社会への影響を感じることができます。必要資金は十万円程度から始められ、まだ注目されていない分野を支える先行者としての楽しみがあります。高いリスクは伴いますが、その分成功したときのリターンや満足感も大きいです。テクノロジー志向型は、情報収集や先進的な知識を活かして、自分の投資先を選ぶ楽しさを味わえます。未来の変化を先取りし、社会の成長と共に自分の資産も育てられる特別なスタイルです。",
        "積立型（50代以上特別判定）": "「あなたの投資適性について」あなたはS&P500や全世界株式などのインデックスファンドへの積立投資が合っている可能性が高いです。この方法は、株式市場全体に分散して投資するため、個別企業の影響を受けにくく、長期的な資産形成に向いています。積立投資は「毎月一定額を購入し続ける」ことが基本で、相場が下がったときも安く買えるメリットがあります。必要資金は月数百円〜数千円程度から始められ、少額からでも長期で続けることで複利効果を得られます。時間を味方につけることで、数年後には小さな積み重ねが大きな資産へと育っていきます。リスクは比較的低く、株式市場の値動きに一喜一憂せずに済むため、心理的にも安定した運用が可能です。初心者でも無理なく実行でき、投資を習慣化するには最適な方法です。積立安定型は、未来の安心を着実に手に入れるための賢い選択です。",
        "積立応用型（高配当株など）": "「あなたの投資適性について」あなたは日本株の中で高配当株や大型株を中心に積立投資をするスタイルに適性があります。株式を選ぶ際は、安定的な業績や配当利回りを意識すると、長期保有のメリットが最大化します。毎月一定金額を積み立てる方法で、株価が下がったときにも安く購入できるため、投資効率を高めることが可能です。必要資金は月1〜5万円程度から始められます。配当収入は再投資することで資産を加速させ、成長性と収益性を両立できます。積立応用型の魅力は「安定基盤の上にリターンを積み重ねる」点にあります。インデックス投資のような安定性を持ちながら、自分で選んだ銘柄で成果を実感できるため、投資の楽しさを体験しやすいです。中長期的な視点で、企業分析や市場動向を学びながら運用することで、経験と資産の両方を着実に積み上げることができます。",
    }

    descriptions2 = {
        "貯蓄優先型": "「この投資型について」貯蓄優先型では、まず投資の前提となる余剰資金を作ることが中心です。日々の生活費を見直し、不要なサブスクリプションを解約したり、衝動買いを控えることが基本です。特に固定費の見直しが効果的で、通信費、光熱費、保険料、定期購入のサービス、サブスク（動画配信、音楽、書籍、ジムなど）を確認し、必要なものとそうでないものを整理します。場合によっては収入を増やすために副業やアルバイトも検討できます。自分の支出を把握するために家計簿アプリや予算管理アプリを活用し、月ごとの支出パターンを分析することも有効です。さらに、先取り貯金として給料口座から自動で別の貯蓄口座に移す仕組みを作ると、無理なく資金を確保できます。この段階で学ぶこととしては、家計管理の基本、固定費の種類と削減方法、無駄遣いの見極め方などです。お金の流れを把握することで、自分の金銭リテラシーが向上し、生活全体を効率的に管理できる力が身につきます。短期目標として生活費の3〜6か月分を貯蓄することを目安にすることで、将来投資を始めた際に焦らずに運用できます。また、貯蓄の習慣を身につけることで、「資金を作る力」だけでなく、計画性や優先順位の判断力といった思考力も養われます。余剰資金を作る過程そのものが、自分のライフスタイルやお金に対する価値観を見直す良い機会となり、金銭面だけでなく心理面でも安心感や達成感を得られるのが特徴です。",
        "積立安定型（インデックスメイン）": "「この投資型について」積立安定型は、S&P500やオールカントリーなどのインデックスファンドを使い、長期的な資産形成を目指す投資スタイルです。まず証券口座を開設し、楽天証券やSBI証券などで積立NISAやiDeCoを活用すると、非課税で運用できます。インデックスファンドは複数企業に分散投資されるため、値動きのリスクが比較的低く、初心者でも取り組みやすい特徴があります。投資方法は簡単で、毎月決まった金額を自動で購入する積立設定を行うだけです。必要資金は数百円から始められ、家計に合わせて積立額を自由に変更できます。勉強面では、インデックス投資の仕組み、株式市場の基本、分散投資の効果、長期投資の複利効果を理解することが大切です。ファンドの構成銘柄や運用方針を確認することで、資産の成長をイメージしやすくなります。金銭以外のメリットとして、計画的に資産を増やす習慣が身につき、金融リテラシーや資産運用の知識が自然と高まります。また、ほったらかしで資産が増える体験を通じて、お金の流れや複利の効果を実感でき、心理的にも安心感を得られます。少額から始められるため、無理なく経験を積み、自分の判断で資産を育てる力を養える投資方法です。",
        "アクティブチャレンジ型（短期トレード型）": "「この投資型について」アクティブチャレンジ型は、FXや短期個別株などを活用し、短期間での利益を狙う投資スタイルです。投資家自身が市場の値動きを分析し、売買のタイミングを判断して取引を行います。取引対象は外国為替（FX）、株式、ETFなど多岐にわたり、日中の値動きを活かして短期売買を繰り返すことが特徴です。必要資金は数千〜数万万円程度から始められますが、ハイリスクであるため余剰資金での運用が推奨されます。短期で利益を狙うスタイルのため、損失リスクが高い反面、スピーディーな判断で大きな成果を得られる可能性もあります。アクティブチャレンジ型では、テクニカル分析と呼ばれる方法で投資企業を決定していきます。テクニカル分析とは過去の値動き（チャート形状）から将来の価格変動を予測する方法です。勉強面では、まずチャート分析やテクニカル指標の理解が必要です。移動平均線、RSI、MACD、ボリンジャーバンドなどのテクニカル指標を使い、売買のタイミングを判断します。さらに、経済指標や金融政策、政治動向、ニュースの影響を読み解く能力も重要です。FXや株式取引の仕組み、レバレッジの使い方、リスク管理の手法も学び、投資戦略を計画的に立てる必要があります。また、短期取引では感情に左右されやすいため、心理的コントロールや冷静な意思決定のスキルも求められます。投資の経験を積むことで、迅速な情報分析能力や戦略立案力、リスク判断力を養うことができます。テスタさんなどのトレーダーと呼ばれる方々はこの投資方法に該当します。金銭以外のメリットとしては、市場の動きを観察し、売買判断を自分で行うことで、経済や金融知識の理解が深まり、情報処理能力や決断力が向上する点です。短期間での成果や失敗を経験することで、リスク管理能力や戦略思考、冷静な意思決定力も自然に養われます。また、投資を通じて自分の資金に対する責任感や計画性が高まり、日常生活や仕事での判断力にも役立ちます。アクティブチャレンジ型は、スピード感と挑戦心を活かして、投資スキルと資産形成を同時に成長させるスタイルです。成功体験や学びを通じて、より高度な投資判断や複雑な市場分析にも対応できる基盤を築ける点も大きな魅力です。",
        "ステーキング運用型（仮想通貨積立・ステーキング）": "「この投資型について」ステーキング運用型は、仮想通貨を保有し、ブロックチェーンネットワークやレンディングプラットフォームに預けることで、報酬を得る投資スタイルです。主にPoS（Proof of Stake）方式の仮想通貨を利用し、保有しているだけで利息のような報酬を得られることが特徴です。また、レンディングでは仮想通貨を他者に貸し出して利息収入を受け取る方法もあります。運用はBybit、Binance、Coincheckなどの取引所を通して行い、数千円程度の少額からでも始められます。ステーキング運用は、自動的に資産を増やす体験ができるため、長期的な資産形成をほったらかしで進められるのが魅力です。株式投資と異なり決められた年利での運用が可能なため、以降の収入を予測しやすい側面もあります。勉強面では、まず仮想通貨とブロックチェーンの仕組みを理解する必要があります。PoSやレンディングの仕組み、報酬計算方法、利率の変動要因、セキュリティやウォレット管理も重要です。さらに、各通貨の特徴や信頼性、将来性を調べることで、安全かつ効果的に資産運用が可能になります。また、法規制や税金の知識も学ぶことで、リスク管理や資産の最適化に役立ちます。投資を続けることで、仮想通貨市場の動きや国際金融のトレンドへの理解が深まり、情報収集能力や分析力、判断力も向上します。金銭以外のメリットとしては、デジタル資産の運用経験を通じて、自分の資産を自律的に管理する力が養われることです。市場の変動やリスクを理解しながら運用することで、冷静な判断力や戦略的思考も身につきます。また、仮想通貨の仕組みや新しい金融サービスへの理解が深まるため、将来の投資選択肢が広がります。少額から始められるため、初心者でも経験を積みやすく、学習と実践を同時に行えるのも特徴です。さらに、ステーキングやレンディングによる報酬は、資産を効率的に増やすだけでなく、金融リテラシーや投資判断力の向上にもつながり、自己成長の機会として活用できます。リスク管理や情報分析のスキルが自然に身につき、仮想通貨市場の成長とともに資産を増やしながら、未来の投資チャンスに対応できる力も養われます。ステーキング運用型は、金銭面の成果だけでなく、学びや経験を通じて総合的な投資力を高められるスタイルです。",
        "株式アクティブ型（中期〜長期の個別株投資）": "「この投資型について」株式アクティブ型は、個別株を自分で選び、中長期で保有することで資産の成長や配当収入を狙う投資スタイルです。証券口座を開設し、国内外の株式市場で取引可能なネット証券を利用して投資を行います。投資対象は、業績や事業モデル、財務状況、配当利回りなどを総合的に分析した企業です。株価の上昇や配当収入による利益を目指すため、より長期的に成長が見込まれる企業の株式を購入し、その後の長期保有による資産形成を基本とします。また、株主優待を活用することで、資産形成と日常生活のメリットを両立できます。必要資金は数千〜数万万円程度から始められ、余剰資金を使ってリスク管理を行いながら投資を進めることが推奨されます。株式アクティブ型では、ファンダメンタル分析と呼ばれる方法で投資企業を決定していきます。ファンダメンタル分析とは本質的な企業価値を判断するための分析方法です。勉強面では、会計や財務諸表の理解、企業分析、業界研究、株式市場の仕組み、経済指標やニュースの読み解き方が重要です。財務諸表から企業の健全性を判断したり、競合企業との比較から成長性を見極める力が身につきます。さらに、長期保有における株価の変動や配当の影響を理解することで、リスク管理のスキルも養われます。投資経験を積むことで、経済や企業の動きを総合的に把握できる判断力が向上し、情報収集力や分析力、意思決定力も自然と高まります。株式アクティブ型の特徴は、自分で銘柄を選び投資成果を直接確認できる点にあります。投資対象の企業や業界を深く調べる過程で、企業経営やビジネスモデルの理解が深まり、日常生活でも経済的な判断力や計画性を養うことができます。投資の神様と呼ばれるウォーレンバフェットもこの投資方法に該当します。金銭以外のメリットとしては、資産形成の成果を実感しやすく、投資の楽しさと学びを同時に得られることです。企業分析を通じて、経済の仕組みや情報の取捨選択、意思決定のスキルが身につき、投資以外の場面でも活かせます。また、株式投資を継続することで、長期的視点での資産運用の計画性や、価格変動に対する冷静さも養えます。株式アクティブ型は、投資を通じて金銭面だけでなく、学びや自己成長の体験を得られるスタイルで、将来的により高度な投資判断やリスク管理能力を身につける土台となる投資方法です。",
        "ハイリスクハイリターン型（仮想通貨トレード型）": "ハイリスクハイリターン型は、主に仮想通貨の売買を通じて短期的な利益を狙う投資スタイルです。ビットコインやイーサリアムなど主要通貨から、将来性のあるアルトコインまで幅広く投資対象があります。特徴として、価格変動が非常に大きく、短期間で大きな利益を得られる可能性がある一方で、同時に損失リスクも高い点が挙げられます。投資方法は、取引所で現物購入やレバレッジ取引を行い、市場の値動きに応じて売買を繰り返すことで利益を狙います。取引所は国内外問わず、Bybit、Binance、Coincheckなどが利用可能で、数千〜数万円程度の少額からでも始められますが、余剰資金での運用が必須です。勉強面では、まず仮想通貨とブロックチェーンの仕組み、トークンの特性、価格変動要因を理解する必要があります。チャート分析やテクニカル指標、ローソク足の読み方、トレンドライン、出来高の見方など、短期売買に欠かせないテクニカルスキルの習得が求められます。また、経済ニュース、国際金融動向、規制や法改正の情報も収集し、市場の変動要因を多角的に分析できる力が重要です。過去にはイーロンマスクの氏がTwitter（現X）にてドージコイン（仮想通貨の種類の一つ）の発言をしたことによって価格が1万倍近く跳ね上がるなど、周辺情報を収集することは非常に重要です。そして、レバレッジ取引やリスク管理の手法、損切り・利確のルール設定、心理的コントロールを学ぶことで、感情に流されず冷静に取引できる能力を養えます。金銭以外のメリットとしては、市場の動きや情報を読み解く力、迅速な意思決定力、リスクとリターンのバランスを判断する能力が身につく点です。短期での成功や失敗を経験することで、分析力、戦略思考、状況判断力が自然に高まります。また、仮想通貨市場の仕組みを理解することで、最新の金融技術やデジタル資産への知識も深まり、将来的な投資判断に活かせます。ハイリスクハイリターン型は、挑戦心や柔軟な思考を活かし、スピーディーに判断を下しながら資産を増やす経験を積める投資スタイルです。短期的な利益追求を通じて、自己成長や投資スキルの向上も同時に得られるため、挑戦意欲のある人に向いています。",
        "テクノロジー志向型（仮想通貨プロジェクト投資・新興市場）": "「この投資型について」テクノロジー志向型は、ベンチャー企業や新興国市場への投資を通じて、高い成長性や将来のリターンを狙う投資スタイルです。成長段階にある企業や国の経済発展に注目し、株式やETF、クラウドファンディングなどの方法で資金を投じます。特徴として、企業や国の成長ポテンシャルを直接享受できる可能性があり、投資リターンも大きいですが、同時にリスクも高く、株価や為替変動、政策変更、経済情勢の影響を受けやすい点が挙げられます。投資方法は、国内外の証券口座を通して株式やETFを購入したり、ベンチャーキャピタル型クラウドファンディングに参加して資金提供を行います。必要資金は数万円から数十万円程度で始められるケースが多く、余剰資金での運用が推奨されます。勉強面では、まず投資対象の企業や国の経済状況、成長戦略、競合環境、技術革新の動向を理解することが重要です。財務諸表の分析、ビジネスモデルの理解、業界トレンドや競合比較、リスク評価などを学ぶ必要があります。新興市場の場合、政治・規制・為替のリスクも考慮し、情報収集能力や分析力が必須です。また、投資対象企業の技術や製品がどのように社会に影響するかを理解することで、将来性の見極めに役立ちます。投資を続けることで、経済や技術の動向を総合的に把握する力、戦略的判断力、意思決定力、リスク管理能力も自然に高まります。金銭以外のメリットとしては、最先端技術や成長市場への理解が深まり、経済・技術両面での知識が向上する点です。投資を通じて企業の戦略や市場動向を観察する経験は、分析力や洞察力、情報の取捨選択能力の向上にもつながります。さらに、自分の判断で成長企業や市場に資金を投じることで、計画性や意思決定力、長期的視点での資産運用スキルも養えます。テクノロジー志向型は、投資を通じて社会や経済の最前線を学びながら、自己の成長と資産形成を同時に進められるスタイルであり、将来的に新たな投資機会やビジネスチャンスを見極める力も培える投資方法です。",
        "積立型（50代以上特別判定）": "「この投資型について」積立安定型は、S&P500やオールカントリーなどのインデックスファンドを使い、長期的な資産形成を目指す投資スタイルです。まず証券口座を開設し、楽天証券やSBI証券などで積立NISAやiDeCoを活用すると、非課税で運用できます。インデックスファンドは複数企業に分散投資されるため、値動きのリスクが比較的低く、初心者でも取り組みやすい特徴があります。投資方法は簡単で、毎月決まった金額を自動で購入する積立設定を行うだけです。必要資金は数百円から始められ、家計に合わせて積立額を自由に変更できます。勉強面では、インデックス投資の仕組み、株式市場の基本、分散投資の効果、長期投資の複利効果を理解することが大切です。ファンドの構成銘柄や運用方針を確認することで、資産の成長をイメージしやすくなります。金銭以外のメリットとして、計画的に資産を増やす習慣が身につき、金融リテラシーや資産運用の知識が自然と高まります。また、ほったらかしで資産が増える体験を通じて、お金の流れや複利の効果を実感でき、心理的にも安心感を得られます。少額から始められるため、無理なく経験を積み、自分の判断で資産を育てる力を養える投資方法です。",
        "積立応用型（高配当株など）": "「この投資型について」積立応用型は、日本株の高配当株や大型株を中心に毎月積立投資を行い、安定的な収益と中長期的な資産成長を目指す投資スタイルです。まずは証券口座を開設し、国内株式の取り扱いがあるネット証券を利用します。投資対象企業の財務諸表や業績、配当利回りを確認し、銘柄を選定して積立購入を行います。特徴として、株価が下落したタイミングで購入することで、平均取得単価を下げられるドルコスト平均法のメリットを活かせます。また、高配当株を選ぶことで、安定した配当収入を得つつ再投資により複利効果を高められる点も魅力です。必要資金は月数千〜数万円程度から始めることができ、無理のない範囲で積立を継続可能です。勉強面では、財務諸表の読み方、企業分析、業界動向や競合企業の調査、株式市場の仕組み、リスク管理方法を理解することが重要です。企業分析を通して、どの企業が将来的に安定成長するかを判断できる能力が身につきます。また、株式投資を続けることで、経済の動きや企業の戦略を理解する力、情報収集力、意思決定力、分析力といったスキルも自然に養われます。さらに、投資先企業の配当や株価成長を実感することで、資産形成の成果を肌で感じられるため、モチベーションの維持にもつながります。金銭以外のメリットとしては、自分で選択して投資する経験を通じ、判断力や計画性が向上し、経済知識や金融リテラシーの向上にもつながります。また、積立を継続することでお金の使い方や価値判断の意識が高まり、日常生活でも必要・不要の判断力が養われます。中長期での投資成果を楽しみながら、自己の成長と資産形成を両立できるスタイルが積立応用型の魅力です。投資経験を重ねるほど、企業や市場の動きに対する理解が深まり、自分なりの投資判断を確立できるため、将来的により複雑な投資やリスクを取った投資にもチャレンジしやすくなります。安定性と学びの両立を重視した投資スタイルとして、資産形成を楽しみながら成長できる投資法です。",
    }

    main_desc = descriptions.get(main_result, "")
    sub_desc = descriptions.get(sub_result, "")
    main_desc2 = descriptions2.get(main_result, "")
    sub_desc2 = descriptions2.get(sub_result, "")

    return render_template(
        "result_main.html",
        main_result=main_result,
        sub_result=sub_result,
        main_desc=main_desc,
        sub_desc=sub_desc,
        main_desc2=main_desc2,
        sub_desc2=sub_desc2,
    )


@app.route("/result/books")
def result_books():
    main_result = session.get("main_result")
    sub_result = session.get("sub_result")
    if not main_result:
        return redirect(url_for("index"))
    return render_template(
        "result_books.html", main_result=main_result, sub_result=sub_result
    )


@app.route("/result/start")
def result_start():
    main_result = session.get("main_result")
    sub_result = session.get("sub_result")
    if not main_result:
        return redirect(url_for("index"))
    return render_template(
        "result_start.html", main_result=main_result, sub_result=sub_result
    )


@app.route("/result/learning")
def result_learning():
    main_result = session.get("main_result")
    sub_result = session.get("sub_result")
    if not main_result:
        return redirect(url_for("index"))
    return render_template(
        "result_learning.html", main_result=main_result, sub_result=sub_result
    )


if __name__ == "__main__":
    app.run(debug=True)
