{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1>診断結果</h1>

    <div class="result-box main-result">
        メインタイプ：{{ main_result }}
    </div>
    <div class="description-container">
        <p class="description" id="main-desc">{{ main_desc }}</p>
        <button class="toggle-btn" onclick="toggleDescription('main-desc', this)">すべて見る ⇩</button>
    </div>

    <div class="result-box sub-result">
        サブタイプ：{{ sub_result }}
    </div>
    <div class="description-container">
        <p class="description" id="sub-desc">{{ sub_desc }}</p>
        <button class="toggle-btn" onclick="toggleDescription('sub-desc', this)">すべて見る ⇩</button>
    </div>

    <h2>次に進むにはこちら</h2>
    <div class="next-steps">
        <a href="{{ url_for('result_books') }}" class="card">
            <img src="{{ url_for('static', filename='images/books.jpg') }}" alt="本の紹介">
            <p>本で学ぶ</p>
        </a>
        <a href="{{ url_for('result_learning') }}" class="card">
            <img src="{{ url_for('static', filename='images/learning.jpg') }}" alt="学習サイト">
            <p>学習サイト</p>
        </a>
        <a href="{{ url_for('result_start') }}" class="card">
            <img src="{{ url_for('static', filename='images/start.jpeg') }}" alt="投資開始">
            <p>投資を始める</p>
        </a>
        <a href="#" class="card">
            <img src="{{ url_for('static', filename='images/advice.jpg') }}" alt="投資アドバイス">
            <p>アドバイス</p>
        </a>
    </div>

    <a href="{{ url_for('index') }}">
        <button>もう一度診断する</button>
    </a>
</div>

<script>
function toggleDescription(id, btn) {
    const desc = document.getElementById(id);
    if (desc.classList.contains('expanded')) {
        desc.classList.remove('expanded');
        btn.textContent = 'すべて見る ⇩';
    } else {
        desc.classList.add('expanded');
        btn.textContent = '閉じる ⇧';
    }
}
</script>
{% endblock %}
