<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>AI投資診断</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<style>
body {
    font-family: "Yu Gothic", sans-serif;
    margin: 0;
    padding: 0;
    background: #fafafa;
    overflow: hidden; /* 横スクロール防止 */
}

.container {
    text-align: center;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    height: 100vh; /* 縦スクロール防止用 */
    box-sizing: border-box;
    position: relative;
}

h1 {
    font-size: clamp(1.8em, 5vw, 2.5em);
    margin-bottom: 40px;
    color: #e91e63;
}

.question {
    font-weight: bold;
    margin: 30px 0 10px;
    font-size: clamp(1em, 4vw, 1.2em);
}

.option {
    padding: 12px;
    margin: 6px 0;
    border: 2px solid #e91e63;
    border-radius: 6px;
    cursor: pointer;
    font-size: clamp(1em, 4vw, 1.1em);
    transition: 0.2s;
}

.option:hover { background-color: #fce4ec; }
.option.selected {
    background-color: #e91e63;
    color: white;
    font-weight: bold;
}

.button-group { margin-top: 20px; }
.button-group button {
    margin: 0 10px;
    padding: 12px 24px;
    font-size: clamp(1em, 4vw, 1.1em);
    border: none;
    border-radius: 6px;
    background-color: #e91e63;
    color: white;
    cursor: pointer;
}
.button-group button:hover { background-color: #d81b60; }

.question-page {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    display: none;
    height: 100%;
    overflow-y: auto;
}

.question-page.active {
    display: block;
}

::-webkit-scrollbar { display: none; } /* iOS / Chrome でスクロールバー非表示 */
</style>
</head>
<body>
<div class="container">
<h1>AI投資診断</h1>
<form method="POST" id="quizForm">

<!-- ページ1 -->
<div class="question-page">
<p class="question">Q1. 主な投資の目的は？</p>
<div class="option" data-q="Q1" onclick="selectOption('Q1', this)">老後資金</div>
<div class="option" data-q="Q1" onclick="selectOption('Q1', this)">資産形成</div>
<div class="option" data-q="Q1" onclick="selectOption('Q1', this)">一攫千金</div>
<input type="hidden" name="Q1" id="Q1">

<p class="question">Q2. 一度投資したら、どのくらいの期間運用可能？</p>
<div class="option" data-q="Q2" onclick="selectOption('Q2', this)">1年以内</div>
<div class="option" data-q="Q2" onclick="selectOption('Q2', this)">3〜9年</div>
<div class="option" data-q="Q2" onclick="selectOption('Q2', this)">10年以上</div>
<input type="hidden" name="Q2" id="Q2">

<p class="question">Q3. 投資の勉強や運用に使える時間はどれくらい？</p>
<div class="option" data-q="Q3" onclick="selectOption('Q3', this)">1日1時間以上</div>
<div class="option" data-q="Q3" onclick="selectOption('Q3', this)">週に数時間</div>
<div class="option" data-q="Q3" onclick="selectOption('Q3', this)">できるだけ手間かけたくない</div>
<input type="hidden" name="Q3" id="Q3">

<div class="button-group">
<button type="button" onclick="nextPage()">次へ</button>
</div>
</div>

<!-- ページ2 -->
<div class="question-page">
<p class="question">Q4. 投資で損失が出ることについて、どのくらい許容できる？</p>
<div class="option" data-q="Q4" onclick="selectOption('Q4', this)">絶対に減らしたくない</div>
<div class="option" data-q="Q4" onclick="selectOption('Q4', this)">一時的に下がるのは我慢できる</div>
<div class="option" data-q="Q4" onclick="selectOption('Q4', this)">損をする覚悟もある</div>
<input type="hidden" name="Q4" id="Q4">

<p class="question">Q5. 毎月の投資可能金額（月収に対する割合）は？</p>
<div class="option" data-q="Q5" onclick="selectOption('Q5', this)">10%以下</div>
<div class="option" data-q="Q5" onclick="selectOption('Q5', this)">20%前後</div>
<div class="option" data-q="Q5" onclick="selectOption('Q5', this)">30%以上</div>
<input type="hidden" name="Q5" id="Q5">

<p class="question">Q6. 貯金額は月収の何倍？</p>
<div class="option" data-q="Q6" onclick="selectOption('Q6', this)">1倍以下</div>
<div class="option" data-q="Q6" onclick="selectOption('Q6', this)">2〜5倍</div>
<div class="option" data-q="Q6" onclick="selectOption('Q6', this)">5倍以上</div>
<input type="hidden" name="Q6" id="Q6">

<div class="button-group">
<button type="button" onclick="prevPage()">前へ</button>
<button type="button" onclick="nextPage()">次へ</button>
</div>
</div>

<!-- ページ3 -->
<div class="question-page">
<p class="question">Q7. 仮想通貨に興味はある？</p>
<div class="option" data-q="Q7" onclick="selectOption('Q7', this)">ある</div>
<div class="option" data-q="Q7" onclick="selectOption('Q7', this)">ない</div>
<input type="hidden" name="Q7" id="Q7">

<p class="question">Q8. テクノロジーや新金融技術に興味ある？</p>
<div class="option" data-q="Q8" onclick="selectOption('Q8', this)">ある</div>
<div class="option" data-q="Q8" onclick="selectOption('Q8', this)">ない</div>
<input type="hidden" name="Q8" id="Q8">

<p class="question">Q9. 年齢は？</p>
<div class="option" data-q="Q9" onclick="selectOption('Q9', this)">10代</div>
<div class="option" data-q="Q9" onclick="selectOption('Q9', this)">20代</div>
<div class="option" data-q="Q9" onclick="selectOption('Q9', this)">30代</div>
<div class="option" data-q="Q9" onclick="selectOption('Q9', this)">40代</div>
<div class="option" data-q="Q9" onclick="selectOption('Q9', this)">50代以上</div>
<input type="hidden" name="Q9" id="Q9">

<div class="button-group">
<button type="button" onclick="prevPage()">前へ</button>
<button type="submit">診断する</button>
</div>
</div>

</form>
</div>

<script>
let currentPage = 0;

function showPage(n){
    const pages = document.querySelectorAll(".question-page");
    pages.forEach((page,i)=>{
        page.classList.toggle('active', i===n);
    });

    // スクロール位置をリセット
    const container = document.querySelector('.container');
    container.scrollTop = 0;
}

function nextPage(){
    const pages = document.querySelectorAll(".question-page");
    if(currentPage < pages.length-1){
        currentPage++;
        showPage(currentPage);
    }
}

function prevPage(){
    if(currentPage > 0){
        currentPage--;
        showPage(currentPage);
    }
}

function selectOption(qName, element){
    document.querySelectorAll(`[data-q="${qName}"]`).forEach(el=>el.classList.remove("selected"));
    element.classList.add("selected");
    const input = document.getElementById(qName);
    if(input){ input.value = element.textContent.trim(); }
}

window.onload = function(){ showPage(0); }
</script>
</body>
</html>


